<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <title>antaris82 — GitHub Pages Browser</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="stylesheet" href="./assets/app.css">

  <!-- External libs kept here to keep modules simple -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.6/dist/purify.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css">
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/mhchem.min.js"></script>
</head>
<body>
  <header>
    <div class="wrap">
      <div class="row">
        <h1>Repo-Browser</h1>
        <div class="path" id="currentPath">/</div>
        <div class="controls">
          <input id="tokenInput" type="text" placeholder="Optional: GitHub Token (?token=... im URL auch möglich)" />
          <select id="langSelect" title="Sprache">
            <option value="de">Deutsch</option>
            <option value="en">English</option>
            <option value="fr">Français</option>
            <option value="es">Español</option>
            <option value="it">Italiano</option>
            <option value="pl">Polski</option>
          </select>
          <button id="reloadBtn">Neu laden</button>
        </div>
        <div class="stats" id="stats"></div>
      </div>
    </div>
  </header>

  <main class="wrap">
    <section class="card grid">
      <div class="flex">
        <strong>Dateien & Ordner</strong>
        <span id="cwdLabel" class="muted mono">/</span>
      </div>
      <div class="list" id="listing">
        <div class="head">Name</div>
        <div class="head">Typ</div>
        <div class="head">Größe</div>
      </div>
    </section>

    <section class="card grid">
      <div class="flex">
        <strong>README</strong>
        <span class="muted">Markdown &amp; LaTeX (\\[...\\], \\(...\\), $$...$$)</span>
      </div>
      <div id="readme" class="readme">Lade…</div>
    </section>

    <section class="card grid">
      <div class="flex"><strong>Galerie</strong><span class="muted">Bilder/Videos im aktuellen Ordner</span></div>
      <div id="gallery" class="gallery"></div>
    </section>

    <section class="card grid">
      <div class="flex"><strong>Stand der Indizierung</strong></div>
      <div>Zuletzt aktualisiert: <span id="manifestUpdatedAt" class="mono muted">–</span></div>
      <div>Gesamtanzahl Dateien: <span id="manifestTotalFiles" class="mono muted">0</span></div>
    </section>

    <section class="card grid">
      <strong>Lizenz</strong>
      <div>Code: MIT License. Nicht-Code (z. B. PDFs, CSV/PNG/Texte): CC BY 4.0. © 2025 antaris — Code: MIT; Daten/Abbildungen/Texte: CC BY 4.0.</div>
    </section>
  </main>

  <footer>
    <div class="wrap">Frontend lädt bevorzugt <code>manifest.json</code>, Fallback: GitHub API.</div>
  </footer>

  <script type="module" src="./assets/app.js"></script>
</body>
</html>
